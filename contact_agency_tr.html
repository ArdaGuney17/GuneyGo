<!DOCTYPE html>
<html lang="tr">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <meta name="theme-color" content="#59CDD1">
  <link rel="manifest" href="/site.webmanifest">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bize Ulaşın | Artun Sağlık Danışmanlığı</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Tailwind'in kapsamadığı veya özel geçersiz kılmalar için özel stiller */
    body {
      font-family: 'Inter', sans-serif; /* Inter yazı tipi uygulandı */
    }
    /* Masaüstü navigasyon için açılır menü stili */
    .dropdown-menu {
      display: none;
      position: absolute;
      background-color: white;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 20; /* Açılır menünün diğer öğelerin üzerinde olmasını sağlar */
      border-radius: 0.5rem; /* Yuvarlak köşeler */
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }
    /* 'active' sınıfı mevcut olduğunda menüyü göster */
    .dropdown-menu.active {
      display: block;
    }
    .dropdown-menu a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      border-radius: 0.5rem; /* Bireysel öğeler için yuvarlak köşeler */
    }
    .dropdown-menu a:hover {
      background-color: #f1f1f1;
    }
    /* Duyarlı tasarım için mobil menü stili */
    .mobile-menu {
      flex-direction: column;
      position: absolute;
      top: 64px; /* Başlığın altına konumlandır */
      left: 0;
      width: 100%;
      background-color: white;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 20; /* Açılır menünün diğer öğelerin üzerinde olmasını sağlar */
      padding: 1rem;
      border-radius: 0.5rem; /* Yuvarlak köşeler */
    }
    .mobile-menu a {
      padding: 0.75rem 0;
      text-align: center;
      border-bottom: 1px solid #eee; /* Menü öğeleri için ayırıcı */
    }
    .mobile-menu a:last-child {
      border-bottom: none; /* Son öğe için ayırıcı yok */
    }

    /* Dosya girişi için daha iyi görünmesini sağlayan özel stiller */
    input[type="file"] {
      display: block;
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid #d1d5db; /* gray-300 */
      border-radius: 0.5rem; /* rounded-md */
      background-color: #fff;
      cursor: pointer;
      font-size: 1rem;
      line-height: 1.5;
      color: #374151; /* gray-700 */
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    input[type="file"]::file-selector-button {
      background-color: #eff6ff; /* blue-50 */
      color: #59CDD1; /* blue-600 */
      padding: 0.75rem 1rem;
      margin-right: 1rem;
      border: none;
      border-radius: 0.375rem; /* rounded-md */
      cursor: pointer;
      transition: background-color 0.15s ease-in-out;
    }

    input[type="file"]::file-selector-button:hover {
      background-color: #dbeafe; /* blue-100 */
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
<header class="main-header bg-white shadow-md py-4">
  <div class="header-container container mx-auto flex justify-between items-center px-4">
    <div class="logo flex items-center space-x-2">
      <img src="Artuntr.png" alt="Artun Danışmanlık Logosu TR" class="w-50 h-10">
    </div>
    <nav class="hidden md:block">
      <ul class="nav-links flex space-x-6 items-center">
        <li><a href="index_tr.html" class="text-gray-700 hover:text-[#59CDD1] transition duration-300">Ana Sayfa</a></li>
        <li><a href="about_tr.html" class="text-gray-700 hover:text-[#59CDD1] transition duration-300">Hakkımızda</a></li>
        <li class="dropdown relative z-10">
          <a href="#" id="servicesDropdownToggle" class="dropdown-toggle text-gray-700 hover:text-[#59CDD1] transition duration-300 flex items-center">Hizmetlerimiz <i class="fas fa-chevron-down ml-1 text-xs"></i></a>
          <ul id="servicesDropdownMenu" class="dropdown-menu absolute top-full left-0 mt-2 bg-white shadow-lg rounded-lg py-2">
            <li><a href="patients_tr.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">Hastalar İçin</a></li>
            <li><a href="agencies_tr.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">Medikal Turizm Acenteleri İçin</a></li>
            <li><a href="companies_tr.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">Şirketler İçin</a></li>
          </ul>
        </li>
        <li><a href="contact_tr.html" class="cta-button bg-[#59CDD1] text-white px-5 py-2 rounded-full hover:bg-[#45a8b3] transition duration-300 shadow-md">İletişime Geçin</a></li>

        <li class="lang-switcher text-gray-700 font-semibold space-x-2">
          <a href="contact_agency.html">ENG</a>
          <span>/</span>
          <a href="contact_agency_tr.html" class="text-[#59CDD1]">TR</a>
        </li>
      </ul>
    </nav>
    <div class="mobile-menu-btn md:hidden text-2xl text-gray-700 cursor-pointer">
      <i class="fas fa-bars"></i>
    </div>
  </div>
</header>
<nav id="mobile-menu" class="mobile-menu hidden md:hidden absolute top-16 left-0 right-0 w-full bg-white shadow-lg p-4 z-20">
  <a href="index_tr.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Ana Sayfa</a>
  <a href="about_tr.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Hakkımızda</a>
  <div class="relative py-2">
    <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100" onclick="toggleMobileDropdown(event)">
      Hizmetlerimiz <i class="fas fa-chevron-down ml-1 text-xs"></i>
    </a>
    <ul id="mobile-services-dropdown" class="hidden pl-4 space-y-2 mt-2">
      <li><a href="patients_tr.html" class="block text-sm text-gray-600 hover:text-[#59CDD1]">Hastalar İçin</a></li>
      <li><a href="agencies_tr.html" class="block text-sm text-gray-600 hover:text-[#59CDD1]">Medikal Turizm Acenteleri İçin</a></li>
      <li><a href="companies_tr.html" class="block text-sm text-gray-600 hover:text-[#59CDD1]">Şirketler İçin</a></li>
    </ul>
  </div>
  <a href="contact_tr.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">İletişime Geçin</a>
  <div class="flex justify-center space-x-2 mt-4">
    <a href="contact_agency.html" class="text-gray-700 hover:text-[#59CDD1]">ENG</a>
    <span>/</span>
    <a href="contact_agency_tr.html" class="text-[#59CDD1] hover:text-[#45a8b3]">TR</a>
  </div>
</nav>

<main>
  <div class="container mx-auto px-4 py-4 mt-4">
    <h2 class="text-3xl font-bold text-[#59CDD1]">Bize Ulaşın / Acenteler İçin</h2>
  </div>

  <section id="contact" class="section py-16 bg-white">
    <div class="section-container container mx-auto px-4 max-w-5xl">
      <h2 class="section-title text-3xl font-bold text-center text-gray-900 mb-4">İletişime Geçin</h2>
      <p class="text-lg text-gray-700 leading-relaxed text-center mb-12 max-w-2xl mx-auto">
        Yardım etmek için buradayız! Bir sorunuz varsa, desteğe ihtiyacınız varsa veya bir sağlık kuruluşu ile görüşmek isterseniz, bize ulaşmaktan çekinmeyin.
      </p>

      <div class="grid md:grid-cols-[1.2fr_2fr] gap-12 items-start">
        <div>
          <div class="bg-gray-50 p-8 rounded-lg shadow-lg">
            <h3 class="text-2xl font-semibold text-gray-900 mb-6">İletişim Bilgileri</h3>
            <div class="space-y-4">
              <div class="contact-method flex items-center space-x-3 text-lg text-gray-700">
                <i class="fas fa-envelope text-[#59CDD1] text-xl"></i>
                <span>artunhcc@gmail.com</span>
              </div>
              <div class="contact-method flex items-center space-x-3 text-lg text-gray-700">
                <i class="fas fa-map-marker-alt text-[#59CDD1] text-xl"></i>
                <span>İstanbul, Türkiye</span>
              </div>
              <div class="contact-method flex items-center space-x-3 text-lg text-gray-700">
                <a href="https://wa.me/905325673291" class="text-[#59CDD1] text-xl" target="_blank">
                  <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://wa.me/905325673291" class="hover:underline">+90 532 567 32 91</a>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-gray-50 p-8 rounded-lg shadow-lg space-y-8">
          <form id="contactForm" class="contact-form space-y-6" action="https://script.google.com/macros/s/AKfycbyPt8bF4tvPwJoQu7DY335H30-9BuzFeG7xx5Od9VHDuIPrIs0H5AyQYCwFLggaRmok8g/exec" method="POST">
            <h3 class="text-2xl font-semibold text-gray-900 mb-4">Bize Bir Mesaj Gönderin</h3>

            <div class="form-group">
              <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Ad Soyad</label>
              <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#59CDD1] focus:border-[#59CDD1]" placeholder="Adınızı ve soyadınızı girin" required>
            </div>
            <div class="form-group">
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Telefon Numarası</label>
              <input type="text" id="phone" name="phone" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#59CDD1] focus:border-[#59CDD1]" placeholder="Ülke kodu ile telefon numaranızı girin" required>
            </div>
            <div class="form-group">
              <label for="email" class="block text-sm font-medium text-gray-700 mb-1">E-posta Adresi</label>
              <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#59CDD1] focus:border-[#59CDD1]" placeholder="E-posta adresinizi girin" required>
            </div>
            <div class="form-group">
              <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Mesajınız</label>
              <textarea id="message" name="message" rows="5" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#59CDD1] focus:border-[#59CDD1]" placeholder="Size nasıl yardımcı olabiliriz?" required></textarea>
            </div>

            <div class="form-group flex items-start space-x-3 mt-4">
              <input type="checkbox" id="consentContact" name="consent" class="mt-1 form-checkbox h-4 w-4 text-[#59CDD1] rounded">
              <label for="consentContact" class="text-sm text-gray-700">
                Veri Paylaşım Onayı: Bu formu göndererek, hastanın kişisel ve tıbbi bilgilerinin, taleplerinin değerlendirilmesi ve uygun tıbbi hizmetlerin sağlanması amacıyla ilgili sağlık tesislerindeki yetkili personel ile paylaşılması için hastanın açık rızasını aldığımızı onaylarız.<br><br>
              </label>
            </div>

            <div class="form-group flex items-start space-x-3 mt-4">
              <input type="checkbox" id="consentContact1" name="consent1" class="mt-1 form-checkbox h-4 w-4 text-[#59CDD1] rounded">
              <label for="consentContact1" class="text-sm text-gray-700">
                Veri Paylaşım Onayı: Kendi kurumsal iletişim ve süreçle ilgili bilgilerimizin (hizmet talepleri, koordinasyon detayları ve diğer ilgili operasyonel veriler gibi) medikal seyahat sürecini verimli bir şekilde yönetmek amacıyla ilgili sağlık kurumları ile paylaşılmasına rıza gösteriyoruz. Ne hastanın ne de bizim bilgilerimizin ilgili sağlık kurumları dışındaki üçüncü şahıslarla paylaşılmayacağını ve iletişim ile süreç yönetimi dışında herhangi bir amaçla kullanılmayacağını onaylarız.
              </label>
            </div>

            <div id="consentError" class="hidden p-3 rounded-lg text-sm text-red-700 bg-red-100 transition-opacity duration-300 opacity-0">
              Devam etmek için lütfen onay kutularından en az birini işaretleyin.
            </div>

            <div id="formSubmissionMessage" class="hidden p-4 mt-5 rounded-lg text-center font-bold text-white shadow-md transition-opacity duration-300 opacity-0">
            </div>

            <button type="submit" class="w-full bg-[#59CDD1] text-white px-6 py-3 rounded-md hover:bg-[#45a8b3] transition duration-300 font-semibold shadow-md flex items-center justify-center space-x-2">
              <span>Mesaj Gönder</span>
              <i class="fas fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="main-footer bg-gray-900 text-white py-8">
  <div class="footer-container container mx-auto flex flex-col md:flex-row justify-between items-center px-4 space-y-4 md:space-y-0">
    <div class="logo flex items-center space-x-2">
      <img src="ArtuntrW.png" alt="Artun Danışmanlık Logosu TRW" class="w-50 h-10">
    </div>
    <div class="footer-social flex space-x-6">
      <a href="#" class="text-gray-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-linkedin"></i></a>
      <a href="#" class="text-gray-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-twitter"></i></a>
      <a href="#" class="text-gray-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-instagram"></i></a>
    </div>
  </div>
  <div class="footer-bottom text-center text-gray-500 text-sm mt-6">
    <p>&copy; 2025 Artun Danışmanlık Şirketi. Tüm hakları saklıdır.</p>
  </div>
</footer>

<script>
  // Mobil menü açma/kapama ve açılır menü işlevselliği için JavaScript
  document.addEventListener('DOMContentLoaded', () => {
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const servicesDropdownToggle = document.getElementById('servicesDropdownToggle');
    const servicesDropdownMenu = document.getElementById('servicesDropdownMenu');

    // Mobil menüyü açıp kapama
    if (mobileMenuBtn && mobileMenu) {
      mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });
    }

    // Hizmetler açılır menüsünü tıklamayla açma/kapama
    if (servicesDropdownToggle && servicesDropdownMenu) {
      servicesDropdownToggle.addEventListener('click', (event) => {
        event.preventDefault(); // Bağlantının gezinmesini engelle
        event.stopPropagation(); // Tıklamanın belge dinleyicisine yayılmasını durdur
        servicesDropdownMenu.classList.toggle('active');
      });

      // Dışarıya tıklandığında menüyü kapat
      document.addEventListener('click', (event) => {
        if (!servicesDropdownToggle.contains(event.target) && !servicesDropdownMenu.contains(event.target)) {
          servicesDropdownMenu.classList.remove('active');
        }
      });
    }

    // Mobil hizmetler açılır menüsünü açma/kapama
    window.toggleMobileDropdown = function(event) {
      event.preventDefault();
      event.stopPropagation();
      const mobileServicesDropdown = document.getElementById('mobile-services-dropdown');
      if (mobileServicesDropdown) {
        mobileServicesDropdown.classList.toggle('hidden');
      }
    };

    // İletişim formu için form gönderimi ve mesaj görüntüleme JavaScript'i
    const contactForm = document.getElementById('contactForm');
    const formSubmissionMessage = document.getElementById('formSubmissionMessage');
    const consentCheckbox1 = document.getElementById('consentContact');
    const consentCheckbox2 = document.getElementById('consentContact1');
    const consentErrorDiv = document.getElementById('consentError');

    if (contactForm && formSubmissionMessage) {
      contactForm.addEventListener('submit', async function(e) {
        e.preventDefault(); // Varsayılan form gönderimini engelle

        // YENİ MANTIK: En az bir onay kutusunun işaretli olup olmadığını kontrol et.
        if (!consentCheckbox1.checked && !consentCheckbox2.checked) {
          consentErrorDiv.textContent = 'Devam etmek için lütfen onay kutularından en az birini işaretleyin.';
          consentErrorDiv.classList.remove('hidden');
          consentErrorDiv.style.opacity = '1';
          setTimeout(() => {
            consentErrorDiv.style.opacity = '0';
            // Geçişin tamamlandığından emin olmak için 'transitionend' kullan
            consentErrorDiv.addEventListener('transitionend', () => {
              consentErrorDiv.classList.add('hidden');
            }, { once: true });
          }, 7000);
          return; // İşlevi durdur
        }

        // Onay hata mesajı görünürse gizle
        consentErrorDiv.classList.add('hidden');
        consentErrorDiv.style.opacity = '0';

        formSubmissionMessage.style.opacity = '0'; // Önceki mesajı gizle
        formSubmissionMessage.classList.add('hidden'); // Soluklaşması için gizli sınıfını uygula

        // Yükleniyor göstergesini göster
        formSubmissionMessage.textContent = 'Mesajınız gönderiliyor...';
        formSubmissionMessage.style.backgroundColor = '#59CDD1'; // Yükleniyor için Turkuaz
        formSubmissionMessage.classList.remove('hidden');
        formSubmissionMessage.style.opacity = '1';

        try {
          // Tüm form değerlerini kolayca almak için FormData kullan
          const formData = new FormData(contactForm);

          const response = await fetch(contactForm.action, {
            method: 'POST',
            body: formData
          });

          const resultText = await response.text();

          if (response.ok) {
            formSubmissionMessage.textContent = 'Başarılı! Mesajınız gönderildi.';
            formSubmissionMessage.style.backgroundColor = '#4CAF50'; // Başarı için Yeşil
            contactForm.reset(); // Formu temizle
          } else {
            formSubmissionMessage.textContent = 'Hata: ' + resultText;
            formSubmissionMessage.style.backgroundColor = '#f44336'; // Hata için Kırmızı
          }
        } catch (error) {
          console.error('Ağ veya gönderim hatası:', error);
          formSubmissionMessage.textContent = 'Ağ hatası. Lütfen tekrar deneyin.';
          formSubmissionMessage.style.backgroundColor = '#f44336'; // Hata için Kırmızı
        } finally {
          formSubmissionMessage.classList.remove('hidden');
          formSubmissionMessage.style.opacity = '1';

          setTimeout(() => {
            formSubmissionMessage.style.opacity = '0';
            formSubmissionMessage.classList.add('hidden');
          }, 7000);
        }
      });
    }

    // Not: Sağlanan HTML'de dosya yükleme formu bulunmadığından bu kod bloğu çalışmayacaktır.
    // Kod, referans ve olası gelecekteki kullanım için burada tutulmuştur.
    const uploadForm = document.getElementById('uploadForm');
    const fileInput = document.getElementById('fileInput');
    const customUploadMessage = document.getElementById('customUploadMessage');

    if (uploadForm && fileInput && customUploadMessage) {
      uploadForm.addEventListener('submit', async function (e) {
        e.preventDefault();

        // Onay kontrolü
        const consentCheckbox = document.getElementById('consentUpload');
        if (!consentCheckbox.checked) {
          customUploadMessage.textContent = 'Hata: Lütfen veri paylaşım onayını işaretleyin.';
          customUploadMessage.style.backgroundColor = '#f44336'; // Hata için Kırmızı
          customUploadMessage.classList.remove('hidden');
          customUploadMessage.style.opacity = '1';
          setTimeout(() => {
            customUploadMessage.style.opacity = '0';
            customUploadMessage.classList.add('hidden');
          }, 7000);
          return; // İşlevi durdur
        }

        // Yükleniyor mesajı göster ve önceki mesajı gizle
        customUploadMessage.style.opacity = '0';
        customUploadMessage.classList.add('hidden');
        customUploadMessage.textContent = 'Dosya yükleniyor...';
        customUploadMessage.style.backgroundColor = '#59CDD1'; // Yükleniyor için Turkuaz
        customUploadMessage.classList.remove('hidden');
        customUploadMessage.style.opacity = '1';

        const file = fileInput.files[0];

        if (!file) {
          customUploadMessage.textContent = 'Lütfen yüklenecek bir dosya seçin.';
          customUploadMessage.classList.remove('bg-green-500');
          customUploadMessage.classList.add('bg-red-500', 'opacity-100');
          setTimeout(() => {
            customUploadMessage.classList.add('hidden', 'opacity-0');
          }, 7000);
          return;
        }

        const reader = new FileReader();
        reader.onload = async function (event) {
          const base64 = event.target.result.split(',')[1];

          try {
            const response = await fetch('https://script.google.com/macros/s/AKfycbx4F3OLxihONUOxcmDRaId5iE2BiSTIUjp5bW0YPOk_b5HVKzAxd7nUb4YlIJp6zSIboA/exec', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
              },
              body: new URLSearchParams({
                file: base64,
                filename: file.name,
                type: file.type
              })
            });

            const result = await response.json();

            if (result.status === 'success') {
              customUploadMessage.textContent = '✅ Dosya başarıyla yüklendi!';
              customUploadMessage.classList.remove('bg-red-500');
              customUploadMessage.classList.add('bg-green-500', 'opacity-100');
              fileInput.value = '';
            } else {
              customUploadMessage.textContent = '❌ Yükleme başarısız: ' + result.message;
              customUploadMessage.classList.remove('bg-green-500');
              customUploadMessage.classList.add('bg-red-500', 'opacity-100');
            }
          } catch (error) {
            console.error('Ağ veya gönderim hatası:', error);
            customUploadMessage.textContent = 'Ağ hatası. Lütfen tekrar deneyin.';
            customUploadMessage.classList.remove('bg-green-500');
            customUploadMessage.classList.add('bg-red-500', 'opacity-100');
          } finally {
            setTimeout(() => {
              customUploadMessage.classList.add('hidden', 'opacity-0');
            }, 7000);
          }
        };
        reader.readAsDataURL(file);
      });
    }
  });
</script>
</body>
</html>
