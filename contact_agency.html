<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <meta name="theme-color" content="#2563eb">
  <link rel="manifest" href="/site.webmanifest">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us | Artun Healthcare Consultancy</title>
  <!-- Tailwind CSS CDN for modern styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom styles for elements not fully covered by Tailwind or for specific overrides */
    body {
      font-family: 'Inter', sans-serif; /* Applied Inter font */
    }
    /* Dropdown menu styling for desktop navigation */
    .dropdown-menu {
      display: none;
      position: absolute;
      background-color: white;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 20; /* Ensure the dropdown menu is on top of other elements */
      border-radius: 0.5rem; /* Rounded corners */
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }
    /* Show the menu when the 'active' class is present */
    .dropdown-menu.active {
      display: block;
    }
    .dropdown-menu a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      border-radius: 0.5rem; /* Rounded corners for individual items */
    }
    .dropdown-menu a:hover {
      background-color: #f1f1f1;
    }
    /* Mobile menu styling for responsive design */
    .mobile-menu {
      display: none; /* Hidden by default */
      flex-direction: column;
      position: absolute;
      top: 64px; /* Position below the header */
      left: 0;
      width: 100%;
      background-color: white;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 10;
      padding: 1rem;
      border-radius: 0.5rem; /* Rounded corners */
    }
    .mobile-menu.active {
      display: flex; /* Shown when active */
    }
    .mobile-menu a {
      padding: 0.75rem 0;
      text-align: center;
      border-bottom: 1px solid #eee; /* Separator for menu items */
    }
    .mobile-menu a:last-child {
      border-bottom: none; /* No separator for the last item */
    }

    /* Custom styles for file input to make it look better */
    input[type="file"] {
      display: block;
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid #d1d5db; /* gray-300 */
      border-radius: 0.5rem; /* rounded-md */
      background-color: #fff;
      cursor: pointer;
      font-size: 1rem;
      line-height: 1.5;
      color: #374151; /* gray-700 */
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    input[type="file"]::file-selector-button {
      background-color: #eff6ff; /* blue-50 */
      color: #2563eb; /* blue-600 */
      padding: 0.75rem 1rem;
      margin-right: 1rem;
      border: none;
      border-radius: 0.375rem; /* rounded-md */
      cursor: pointer;
      transition: background-color 0.15s ease-in-out;
    }

    input[type="file"]::file-selector-button:hover {
      background-color: #dbeafe; /* blue-100 */
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
<header class="main-header bg-white shadow-md py-4">
  <div class="header-container container mx-auto flex justify-between items-center px-4">
    <div class="logo flex items-center space-x-2">
      <img src="artun.png" alt="Artun Consultancy Logo" class="w-50 h-10">
    </div>
    <nav class="hidden md:block">
      <ul class="nav-links flex space-x-6 items-center">
        <li><a href="index.html" class="text-gray-700 hover:text-blue-600 transition duration-300">Home</a></li>
        <li><a href="about.html" class="text-gray-700 hover:text-blue-600 transition duration-300">About Us</a></li>
        <li class="dropdown relative z-10">
          <a href="#" id="servicesDropdownToggle" class="dropdown-toggle text-gray-700 hover:text-blue-600 transition duration-300 flex items-center">Our Services <i class="fas fa-chevron-down ml-1 text-xs"></i></a>
          <ul id="servicesDropdownMenu" class="dropdown-menu absolute top-full left-0 mt-2 bg-white shadow-lg rounded-lg py-2">
            <li><a href="patients.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">For Patients</a></li>
            <li><a href="agencies.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">For Medical Tourism Agencies</a></li>
            <li><a href="companies.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">For Companies</a></li>
          </ul>
        </li>
        <li><a href="contact.html" class="cta-button bg-blue-600 text-white px-5 py-2 rounded-full hover:bg-blue-700 transition duration-300 shadow-md">Contact Us</a></li>
      </ul>
    </nav>
    <div class="mobile-menu-btn md:hidden text-2xl text-gray-700 cursor-pointer">
      <i class="fas fa-bars"></i>
    </div>
  </div>
  <!-- Mobile menu content, hidden by default and toggled by JS -->
  <div class="mobile-menu hidden md:hidden bg-white shadow-lg mt-2 mx-4 rounded-lg">
    <a href="index.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">Home</a>
    <a href="about.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">About Us</a>
    <a href="patients.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">For Patients</a>
    <a href="agencies.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">For Medical Tourism Agencies</a>
    <a href="companies.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-md">For Companies</a>
    <a href="contact.html" class="block px-4 py-2 text-blue-600 font-semibold hover:bg-gray-100 rounded-md">Contact Us</a>
  </div>
</header>

<main>
  <!-- Page Title Indicator -->
  <div class="container mx-auto px-4 py-4 mt-4">
    <h2 class="text-3xl font-bold text-blue-600">Contact Us/ For Agencies</h2>
  </div>

  <section id="contact" class="section py-16 bg-white">
    <div class="section-container container mx-auto px-4 max-w-5xl">
      <h2 class="section-title text-3xl font-bold text-center text-gray-900 mb-4">Get In Touch</h2>
      <p class="text-lg text-gray-700 leading-relaxed text-center mb-12 max-w-2xl mx-auto">
        We're here to help! Whether you have a question, need support, or want to discuss a partnership, feel free to reach out to us.
      </p>

      <div class="grid md:grid-cols-[1.2fr_2fr] gap-12 items-start">
        <!-- Left Column: Contact Information -->
        <div>
          <div class="bg-gray-50 p-8 rounded-lg shadow-lg">
            <h3 class="text-2xl font-semibold text-gray-900 mb-6">Contact Information</h3>
            <div class="space-y-4">
              <div class="contact-method flex items-center space-x-3 text-lg text-gray-700">
                <i class="fas fa-envelope text-blue-600 text-xl"></i>
                <span>artunhcc@gmail.com</span>
              </div>
              <div class="contact-method flex items-center space-x-3 text-lg text-gray-700">
                <i class="fas fa-map-marker-alt text-blue-600 text-xl"></i>
                <span>Istanbul, Turkey</span>
              </div>
              <div class="contact-method flex items-center space-x-3 text-lg text-gray-700">
                <a href="https://wa.me/905325673291" class="text-blue-600 text-xl" target="_blank">
                  <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://wa.me/905325673291" class="hover:underline">+90 532 567 32 91</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Column: Combined Forms (Send Message & Document Upload) -->
        <div class="bg-gray-50 p-8 rounded-lg shadow-lg space-y-8">
          <!-- Contact Form -->
          <form id="contactForm" class="contact-form space-y-6" action="https://script.google.com/macros/s/AKfycbyPt8bF4tvPwJoQu7DY335H30-9BuzFeG7xx5Od9VHDuIPrIs0H5AyQYCwFLggaRmok8g/exec" method="POST">
            <h3 class="text-2xl font-semibold text-gray-900 mb-4">Send Us a Message</h3>

            <div class="form-group">
              <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
              <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Enter your name and surname" required>
            </div>
            <div class="form-group">
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
              <input type="text" id="phone" name="phone" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Enter your phone number with country code" required>
            </div>
            <div class="form-group">
              <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
              <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Enter your email" required>
            </div>
            <div class="form-group">
              <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Your Message</label>
              <textarea id="message" name="message" rows="5" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="How can we help you?" required></textarea>
            </div>

            <!-- Data Sharing Consent Form -->
            <!-- The 'required' attribute has been removed from both inputs. -->
            <!-- We will now use JavaScript to ensure at least one is checked. -->
            <div class="form-group flex items-start space-x-3 mt-4">
              <input type="checkbox" id="consentContact" name="consent" class="mt-1 form-checkbox h-4 w-4 text-blue-600 rounded">
              <label for="consentContact" class="text-sm text-gray-700">
                Data Sharing Consent: By submitting this form, we confirm that we have obtained the explicit consent of the patient for the sharing of their personal and medical information with authorized personnel at the relevant healthcare facilities.
                The patient’s information is shared solely for the purpose of evaluating their request and facilitating the provision of appropriate medical services.<br><br>
              </label>
            </div>

            <div class="form-group flex items-start space-x-3 mt-4">
              <input type="checkbox" id="consentContact1" name="consent1" class="mt-1 form-checkbox h-4 w-4 text-blue-600 rounded">
              <!-- Corrected the 'for' attribute to match the input's ID -->
              <label for="consentContact1" class="text-sm text-gray-700">
                Data Sharing Consent: We give our consent for the sharing of our own corporate contact and process-related information (such as service requests, coordination details, and other relevant operational data) with the relevant healthcare institutions for the purpose of managing the medical travel process efficiently.
                We confirm that none of the information neither the patient’s nor ours will be shared with any third parties outside the involved healthcare institutions, and will not be used for any purposes other than communication and process management.
              </label>
            </div>

            <!-- This div will be used to show the custom error message for the consent checkboxes -->
            <div id="consentError" class="hidden p-3 rounded-lg text-sm text-red-700 bg-red-100 transition-opacity duration-300 opacity-0">
              Please check at least one of the consent boxes to continue.
            </div>

            <div id="formSubmissionMessage" class="hidden p-4 mt-5 rounded-lg text-center font-bold text-white shadow-md transition-opacity duration-300 opacity-0">
            </div>

            <button type="submit" class="w-full bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition duration-300 font-semibold shadow-md flex items-center justify-center space-x-2">
              <span>Send Message</span>
              <i class="fas fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="main-footer bg-gray-900 text-white py-8">
  <div class="footer-container container mx-auto flex flex-col md:flex-row justify-between items-center px-4 space-y-4 md:space-y-0">
    <div class="logo flex items-center space-x-2">
      <img src="artun2.png" alt="Artun Consultancy Logo" class="w-50 h-10">
    </div>
    <div class="footer-social flex space-x-6">
      <a href="#" class="text-gray-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-linkedin"></i></a>
      <a href="#" class="text-gray-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-twitter"></i></a>
      <a href="#" class="text-gray-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-instagram"></i></a>
    </div>
  </div>
  <div class="footer-bottom text-center text-gray-500 text-sm mt-6">
    <p>&copy; 2025 Artun Consultancy Company. All rights reserved.</p>
  </div>
</footer>

<script>
  // JavaScript for mobile menu toggle and dropdown functionality
  document.addEventListener('DOMContentLoaded', () => {
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const mobileMenu = document.querySelector('.mobile-menu');
    const servicesDropdownToggle = document.getElementById('servicesDropdownToggle');
    const servicesDropdownMenu = document.getElementById('servicesDropdownMenu');

    // Toggle the mobile menu
    if (mobileMenuBtn && mobileMenu) {
      mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        mobileMenu.classList.toggle('active');
      });
    }

    // Toggle the services dropdown menu on click
    if (servicesDropdownToggle && servicesDropdownMenu) {
      servicesDropdownToggle.addEventListener('click', (event) => {
        event.preventDefault(); // Prevent the link from navigating
        event.stopPropagation(); // Stop the click from propagating to the document listener
        servicesDropdownMenu.classList.toggle('active');
      });

      // Close the dropdown when clicking outside of it
      document.addEventListener('click', (event) => {
        if (!servicesDropdownToggle.contains(event.target) && !servicesDropdownMenu.contains(event.target)) {
          servicesDropdownMenu.classList.remove('active');
        }
      });
    }

    // JavaScript for form submission and message display for the contact form
    const contactForm = document.getElementById('contactForm');
    const formSubmissionMessage = document.getElementById('formSubmissionMessage');
    const consentCheckbox1 = document.getElementById('consentContact');
    const consentCheckbox2 = document.getElementById('consentContact1');
    const consentErrorDiv = document.getElementById('consentError');

    if (contactForm && formSubmissionMessage) {
      contactForm.addEventListener('submit', async function(e) {
        e.preventDefault(); // Prevent default form submission

        // NEW LOGIC: Check if at least one consent box is checked.
        if (!consentCheckbox1.checked && !consentCheckbox2.checked) {
          consentErrorDiv.textContent = 'Please check at least one of the consent boxes to continue.';
          consentErrorDiv.classList.remove('hidden');
          consentErrorDiv.style.opacity = '1';
          setTimeout(() => {
            consentErrorDiv.style.opacity = '0';
            // Use 'transitionend' to ensure the element is fully hidden after fade out.
            consentErrorDiv.addEventListener('transitionend', () => {
              consentErrorDiv.classList.add('hidden');
            }, { once: true });
          }, 7000);
          return; // Stop the function
        }

        // Hide the consent error message if it was visible
        consentErrorDiv.classList.add('hidden');
        consentErrorDiv.style.opacity = '0';

        formSubmissionMessage.style.opacity = '0'; // Hide previous message
        formSubmissionMessage.classList.add('hidden'); // Ensure hidden class is applied for fade out

        // Show loading indicator
        formSubmissionMessage.textContent = 'Sending your message...';
        formSubmissionMessage.style.backgroundColor = '#2563eb'; // Blue for loading
        formSubmissionMessage.classList.remove('hidden');
        formSubmissionMessage.style.opacity = '1';

        try {
          // Use FormData to easily grab all form values
          const formData = new FormData(contactForm);

          const response = await fetch(contactForm.action, {
            method: 'POST',
            body: formData
          });

          const resultText = await response.text();

          if (response.ok) {
            formSubmissionMessage.textContent = 'Success! Your message has been sent.';
            formSubmissionMessage.style.backgroundColor = '#4CAF50'; // Green for success
            contactForm.reset(); // Clear the form
          } else {
            formSubmissionMessage.textContent = 'Error: ' + resultText;
            formSubmissionMessage.style.backgroundColor = '#f44336'; // Red for error
          }
        } catch (error) {
          console.error('Network or submission error:', error);
          formSubmissionMessage.textContent = 'Network error. Please try again.';
          formSubmissionMessage.style.backgroundColor = '#f44336'; // Red for error
        } finally {
          formSubmissionMessage.classList.remove('hidden');
          formSubmissionMessage.style.opacity = '1';

          setTimeout(() => {
            formSubmissionMessage.style.opacity = '0';
            formSubmissionMessage.classList.add('hidden');
          }, 7000);
        }
      });
    }

    // JavaScript for file upload and message display
    const uploadForm = document.getElementById('uploadForm');
    const fileInput = document.getElementById('fileInput');
    const customUploadMessage = document.getElementById('customUploadMessage');

    // NOTE: The file upload form is not present in the provided HTML,
    // so this script block will not execute. The code is kept here for reference
    // and potential future use.

    if (uploadForm && fileInput && customUploadMessage) {
      uploadForm.addEventListener('submit', async function (e) {
        e.preventDefault();

        // Check for consent
        const consentCheckbox = document.getElementById('consentUpload');
        if (!consentCheckbox.checked) {
          customUploadMessage.textContent = 'Error: Please agree to the data sharing consent.';
          customUploadMessage.style.backgroundColor = '#f44336'; // Red for error
          customUploadMessage.classList.remove('hidden');
          customUploadMessage.style.opacity = '1';
          setTimeout(() => {
            customUploadMessage.style.opacity = '0';
            customUploadMessage.classList.add('hidden');
          }, 7000);
          return; // Stop the function
        }

        // Show a loading message and hide the previous message
        customUploadMessage.style.opacity = '0';
        customUploadMessage.classList.add('hidden');
        customUploadMessage.textContent = 'Uploading file...';
        customUploadMessage.style.backgroundColor = '#2563eb'; // Blue for loading
        customUploadMessage.classList.remove('hidden');
        customUploadMessage.style.opacity = '1';

        const file = fileInput.files[0];

        if (!file) {
          customUploadMessage.textContent = 'Please select a file to upload.';
          customUploadMessage.classList.remove('bg-green-500');
          customUploadMessage.classList.add('bg-red-500', 'opacity-100');
          // Hide message after 7 seconds
          setTimeout(() => {
            customUploadMessage.classList.add('hidden', 'opacity-0');
          }, 7000);
          return;
        }

        const reader = new FileReader();
        reader.onload = async function (event) {
          const base64 = event.target.result.split(',')[1];

          try {
            const response = await fetch('https://script.google.com/macros/s/AKfycbx4F3OLxihONUOxcmDRaId5iE2BiSTIUjp5bW0YPOk_b5HVKzAxd7nUb4YlIJp6zSIboA/exec', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
              },
              body: new URLSearchParams({
                file: base64,
                filename: file.name,
                type: file.type
              })
            });

            const result = await response.json();

            if (result.status === 'success') {
              customUploadMessage.textContent = '✅ File uploaded successfully!';
              customUploadMessage.classList.remove('bg-red-500');
              customUploadMessage.classList.add('bg-green-500', 'opacity-100');
              // Clear the file input field
              fileInput.value = '';
            } else {
              customUploadMessage.textContent = '❌ Upload failed: ' + result.message;
              customUploadMessage.classList.remove('bg-green-500');
              customUploadMessage.classList.add('bg-red-500', 'opacity-100');
            }
          } catch (error) {
            console.error('Network or submission error:', error);
            customUploadMessage.textContent = 'Network error. Please try again.';
            customUploadMessage.classList.remove('bg-green-500');
            customUploadMessage.classList.add('bg-red-500', 'opacity-100');
          } finally {
            // Hide message after 7 seconds
            setTimeout(() => {
              customUploadMessage.classList.add('hidden', 'opacity-0');
            }, 7000);
          }
        };
        reader.readAsDataURL(file);
      });
    }
  });
</script>
